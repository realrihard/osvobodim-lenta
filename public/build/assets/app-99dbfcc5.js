import{_ as B,r as h,o as $,a as v,b as _,c as d,d as t,t as g,F as D,e as r,f as A,g as I,h as j,i as O,j as C,k as L,l as F,s as S,m as R,n as k,u as q,p as G,q as J,v as Q}from"./_plugin-vue_export-helper-dcaf0f00.js";const V="/build/assets/frame-a5c83d5a.png",X={setup(){const o=h({mainsum:null,day7:null,day30:null,clients:null});$(()=>{n(),c(),s(),a()});const n=async()=>{try{o.value.mainsum=await v.get("https://docs.google.com/spreadsheets/d/1hJ4SrLriOv_jUmjjo2qCsyz0GC15r_60LY9vlX2Q9L0/gviz/tq?tqx=out:csv&range=I2:J2&sheet=%D0%9D%D0%BE%D0%B2%D1%8B%D0%B9%20%D0%B2%D0%B0%D1%80%D0%B8%D0%B0%D0%BD%D1%82").then(e=>e.data.trim())}catch(e){return console.error(e),null}},c=async()=>{try{o.value.day7=await v.get("https://docs.google.com/spreadsheets/d/1hJ4SrLriOv_jUmjjo2qCsyz0GC15r_60LY9vlX2Q9L0/gviz/tq?tqx=out:csv&range=M1:N1&sheet=%D0%9D%D0%BE%D0%B2%D1%8B%D0%B9%20%D0%B2%D0%B0%D1%80%D0%B8%D0%B0%D0%BD%D1%82").then(e=>(console.log(e),e.data.trim()))}catch(e){return console.error(e),null}},s=async()=>{try{o.value.day30=await v.get("https://docs.google.com/spreadsheets/d/1hJ4SrLriOv_jUmjjo2qCsyz0GC15r_60LY9vlX2Q9L0/gviz/tq?tqx=out:csv&range=M2:N2&sheet=%D0%9D%D0%BE%D0%B2%D1%8B%D0%B9%20%D0%B2%D0%B0%D1%80%D0%B8%D0%B0%D0%BD%D1%82").then(e=>e.data.trim())}catch(e){return console.error(e),null}},a=async()=>{try{o.value.clients=await v.get("https://docs.google.com/spreadsheets/d/1hJ4SrLriOv_jUmjjo2qCsyz0GC15r_60LY9vlX2Q9L0/gviz/tq?tqx=out:csv&range=P1:Q1&sheet=%D0%9D%D0%BE%D0%B2%D1%8B%D0%B9%20%D0%B2%D0%B0%D1%80%D0%B8%D0%B0%D0%BD%D1%82").then(e=>e.data.trim())}catch(e){return console.error(e),null}};return{total:o,mainsum:n,day7:c,day30:s,kolvodel:a}}},Y={class:"hero__content"},M=t("div",{class:"hero__image"},[t("img",{src:V,alt:""})],-1),T={class:"hero__info__wrapper"},W={class:"hero__info"},K={class:"hero__info__block"},Z={class:"hero__info__item"},tt=r("Сумма списанных задолженностей:"),et=t("br",null,null,-1),st=r(),ot={class:"text_big text_action"},nt={class:"hero__info__item"},at=r("За последние 7 дней:"),ct=t("br",null,null,-1),lt=r(),rt={class:"text_middle text_blue"},it={class:"hero__info__item"},_t=r("За последние 30 дней:"),dt=t("br",null,null,-1),ut=r(),pt={class:"text_middle text_blue"},mt={class:"hero__info__item"},ht=r("Клиентов освобождено:"),vt=t("br",null,null,-1),gt=r(),ft={class:"text_middle text_blue"},yt=t("div",{class:"hero__bottom"},[t("p",{style:{"font-size":"24px"}},[r("Листайте ниже чтобы ознакомиться"),t("br"),r(" с результатоми нашей работы")]),t("div",{class:"mouse"})],-1);function Dt(o,n,c,s,a,e){return _(),d(D,null,[t("div",Y,[M,t("div",T,[t("div",W,[t("div",K,[t("div",Z,[tt,et,st,t("span",ot,g(s.total.mainsum),1)]),t("div",nt,[at,ct,lt,t("span",rt,g(s.total.day7),1)]),t("div",it,[_t,dt,ut,t("span",pt,g(s.total.day30),1)]),t("div",mt,[ht,vt,gt,t("span",ft,g(s.total.clients),1)])])])])]),yt],64)}const Bt=B(X,[["render",Dt]]),$t={props:{suma:{type:Number,default:null}},setup(o){return{formatedSuma:A(()=>o.suma.toLocaleString("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0}))}}},bt={class:"stamp is_approved"},wt=r("Списано "),xt=t("br",null,null,-1);function Lt(o,n,c,s,a,e){return _(),d("div",bt,[wt,xt,t("span",null,g(s.formatedSuma),1)])}const St=B($t,[["render",Lt]]),kt={components:{Stamp:St},setup(){const o=h(null),n=h(null),c=h(1),s=h(null),a=h(!1),e=h(null);$(async()=>{await v.get("/posts").then(u=>{n.value=u.data.posts,s.value=u.data.pagination.totalPages}),e.value=document.querySelector(".content"),window.addEventListener("scroll",p)}),I(()=>{e.value.removeEventListener("scroll",p)});const i=async()=>(c.value++,(await v.get("/posts?page="+c.value)).data.posts),l=async()=>{let u=await i(c.value);n.value.push(...u)},m=()=>{a.value=!0},p=()=>{const u=o.value.getBoundingClientRect(),y=window.innerHeight;u.bottom-y-10<=0&&c.value<=s.value&&l()};return{scrollBlock:o,posts:n,currentPage:c,getPosts:i,imageLoaded:a,onImageLoad:m,scrollHandle:p}}},qt={class:"gallery"},jt=t("h3",{class:"block__title"},"Наши выигранные дела",-1),Ct={class:"gallery__item"},zt={class:"gallery__item__image"},Nt=["src"],It={key:0,class:"gallery__item__stamp"},Ot={key:0,class:"gallery__item__dascription"},Pt={key:0,class:"contact__form"},Ut=t("h4",null,[r("Хотите также?"),t("br"),r("Оставляйте заявку!")],-1),Et=t("form",null,[t("input",{type:"text",placeholder:"Ваше имя"}),t("input",{type:"text",placeholder:"Ваш телефон"}),t("button",{type:"submit",class:"more__btn"},"Хочу также")],-1),Ht=[Ut,Et];function At(o,n,c,s,a,e){const i=j("stamp");return _(),d("div",{class:"gallery__wrapper",ref:"scrollBlock",onScroll:n[1]||(n[1]=(...l)=>s.scrollHandle&&s.scrollHandle(...l))},[t("div",qt,[jt,(_(!0),d(D,null,O(s.posts,(l,m)=>(_(),d(D,{key:l.showId},[t("article",Ct,[t("div",zt,[t("img",{src:"/images/"+l.image,onLoad:n[0]||(n[0]=(...p)=>s.onImageLoad&&s.onImageLoad(...p)),alt:""},null,40,Nt),l.suma&&s.imageLoaded?(_(),d("div",It,[C(i,{suma:l.suma},null,8,["suma"])])):L("",!0)]),l.description?(_(),d("div",Ot,g(l.description),1)):L("",!0)]),(m+1)%8===0?(_(),d("div",Pt,Ht)):L("",!0)],64))),128))])],544)}const Ft=B(kt,[["render",At]]),Rt=F({__name:"Smoothie",props:{weight:{default:.06}},setup(o,{expose:n}){const c=o;let s=S(),a=S(),e=S(),i={overflow:"auto"},l={position:"sticky",top:0},m={willChange:"transform",position:"absolute",width:"100%"},p={el:s,y:0};n(p);let u,y=0,f=0;const P=()=>{({scrollTop:y}=s.value)},z=()=>{e.value.style.height=a.value.scrollHeight+"px"};let b=new ResizeObserver(z);return $(()=>{b.observe(a.value),z();let w=1e3/60,x=performance.now();requestAnimationFrame(function U(){u=requestAnimationFrame(U);let N=performance.now(),E=N-x;x=N;let H=c.weight*E/w;f+=H*(y-f),p.y=f,a.value.style.transform=`translate3D(0, ${-f}px, 0)`})}),R(()=>{b.observe(a.value)}),I(()=>{cancelAnimationFrame(u),b.disconnect()}),(w,x)=>(_(),d("div",{ref_key:"wrap",ref:s,onScroll:P,style:k(q(i))},[t("div",{style:k(q(l))},[t("div",{ref_key:"content",ref:a,style:k(q(m))},[G(w.$slots,"default")],4)],4),t("div",{ref_key:"spacer",ref:e},null,512)],36))}}),Gt="/build/assets/logo-dcdeb54c.svg";const Jt={components:{Hero:Bt,Gallery:Ft,Smoothie:Rt},setup(){return $(()=>{const o=window.sessionStorage.getItem("scrollPosition");o&&window.scrollTo(0,parseInt(o))}),{}}},Qt={class:"content"},Vt={class:"hero"},Xt=J('<div class="header" data-v-e7619c8f><div class="container" data-v-e7619c8f><div class="header__block" data-v-e7619c8f><div class="logo" data-v-e7619c8f><img src="'+Gt+'" data-v-e7619c8f></div></div></div></div><div class="bg__forms" data-v-e7619c8f><div class="circle_mid" data-v-e7619c8f></div><div class="circle_bg" data-v-e7619c8f></div></div>',2),Yt={class:"hero__wrapper"},Mt={class:"area"},Tt={class:"circles"},Wt={class:"container"},Kt={class:"container"};function Zt(o,n,c,s,a,e){const i=j("hero"),l=j("gallery");return _(),d("div",Qt,[t("div",Vt,[Xt,t("div",Yt,[t("div",Mt,[t("ul",Tt,[(_(),d(D,null,O(10,m=>t("li",{key:m})),64))])]),t("div",Wt,[C(i)])])]),t("div",Kt,[C(l)])])}const te=B(Jt,[["render",Zt],["__scopeId","data-v-e7619c8f"]]);Q(te).mount("#app");
